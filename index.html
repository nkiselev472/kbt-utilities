<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KBT Utilities</title>
    <link rel="stylesheet" href="style.css">
    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è QR -->
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üîß KBT Utilities</h1>
            <div class="header-controls">
                <button id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô</button>
                <button id="exportAllBtn" title="–≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö">üì§ –í—Å–µ</button>
                <input type="file" id="importFile" accept=".json" style="display: none;">
                <button id="importBtn" title="–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö">üì• –ò–º–ø–æ—Ä—Ç</button>
            </div>
        </header>

        <nav class="scanner-mode">
            <button class="mode-btn active" data-mode="transfer">üì¶ –°–∫–∞–Ω–µ—Ä –ø–µ—Ä–µ–¥–∞—á</button>
            <button class="mode-btn" data-mode="generic">üì∑ –°–∫–∞–Ω–µ—Ä —à–∫</button>
        </nav>

        <main>
            <!-- –ë–ª–æ–∫ –¥–ª—è –°–∫–∞–Ω–µ—Ä–∞ –ø–µ—Ä–µ–¥–∞—á -->
            <section id="transfer-scanner" class="scanner-panel active">
                <div class="scanner-controls">
                    <button id="startTransferScan">üé• –ù–∞—á–∞—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
                    <button id="stopTransferScan" disabled>‚èπ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                </div>
                
                <div id="transfer-reader" class="scanner-area"></div>

                <div class="data-section">
                    <div class="section-header">
                        <h3>–ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–¥–∞—á</h3>
                        <div class="section-controls">
                            <button id="exportBtn" title="–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV">üì• CSV</button>
                            <button id="clearTransfersBtn" title="–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ" style="background: #f44336;">üóë –û—á–∏—Å—Ç–∏—Ç—å</button>
                        </div>
                    </div>
                    <div id="transfer-history" class="data-list"></div>
                </div>
            </section>

            <!-- –ë–ª–æ–∫ –¥–ª—è –°–∫–∞–Ω–µ—Ä–∞ —à–∫ -->
            <section id="generic-scanner" class="scanner-panel">
                <div class="scanner-controls">
                    <button id="startGenericScan">üé• –ù–∞—á–∞—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
                    <button id="stopGenericScan" disabled>‚èπ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                </div>
                
                <div id="generic-reader" class="scanner-area"></div>

                <div class="data-section">
                    <div class="section-header">
                        <h3>–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ QR-–∫–æ–¥—ã</h3>
                        <button id="clearQRCodesBtn" title="–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ" style="background: #f44336;">üóë –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
                    </div>
                    <div id="qrcode-gallery" class="gallery"></div>
                </div>
            </section>
        </main>

        <footer class="app-info">
            <p>KBT Utilities v1.0 | –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ</p>
            <p style="font-size: 0.9rem; opacity: 0.7;">
                –î–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥—Ä—É–≥–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ "–≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö" –∏ "–ò–º–ø–æ—Ä—Ç"
            </p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
